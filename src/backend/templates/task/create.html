{% extends "base.html" %}

{% block title %}Create Task{% endblock %}

{% block content %}
<div class="max-w-md mx-auto bg-white p-8 shadow-md">
    <h1 class="text-2xl mb-4">Create Task</h1>
    <form method="post" action="/task/">
        <input type="hidden" name="csrftoken" value="{{ request.session.get('csrftoken', '') }}">
        <div class="mb-4">
            <label class="block text-gray-700">Project Name</label>
            <select 
                name="project_name" 
                class="w-full border p-2" 
                required
                hx-get="/project/options"
                hx-trigger="load"
                hx-target="this"
                hx-indicator=".htmx-indicator">
                <option value="">Select a project...</option>
                <div class="htmx-indicator">Loading...</div>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700">Title</label>
            <input type="text" name="title" class="w-full border p-2" required>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700">Hours Required</label>
            <input type="number" name="hours_required" step="0.1" class="w-full border p-2" required>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700">Status</label>
            <select name="status" class="w-full border p-2" required>
                <option value="Planning">Planning</option>
                <option value="Research">Research</option>
                <option value="In Progress">In Progress</option>
                <option value="Done">Done</option>
                <option value="Cancelled">Cancelled</option>
                <option value="On Hold">On Hold</option>
                <option value="Testing">Testing</option>
                <option value="Review">Review</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700">Description</label>
            <textarea name="description" class="w-full border p-2 h-32" required></textarea>
        </div>
        <button type="submit" class="bg-[#0e5c6a] text-white px-4 py-2">Create Task</button>
    </form>
</div>
{% endblock %}